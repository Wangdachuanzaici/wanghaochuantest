<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>8-test-re</title>
  </head>
  <body>
    <script>
      var str = "name=lisi&age=10&hobby=swim&hobby=basketball&score=80&hobby=football"
      //"name=lisi&age=10&hobby=swim,basketball,football&score=80"
      var re =/hobby=(\S+)(&hobby=)(\S+)&(\S+)(&hobby=)(\S+)/;
         console.log(re.exec(str));

      function replacer(match,p1,p2,p3,p4,p5,p6,offset,string){
        console.log(match);
        return "hobby=" + [p1,p3,p6].join(",") + "&" + p4;
      }
      var newstr = str.replace(/hobby=(\S+)(&hobby=)(\S+)&(\S+)(&hobby=)(\S+)/,replacer);
      console.log(newstr);
    </script>
  </body>
</html>
